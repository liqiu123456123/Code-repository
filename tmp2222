import os
import multiprocessing
from multiprocessing import Pool

def process_file(file_path):
    # 这里填写你的文件处理逻辑
    with open(file_path, 'r') as f:
        data = f.read()
    # 假设处理的逻辑是打印文件内容
    print(f"Processing {file_path}: {data[:100]}")  # 这里只打印前100个字符作为示例
    # 返回处理结果
    return file_path, len(data)

def process_folder(folder_path):
    # 获取文件夹中的所有文件路径
    files = [os.path.join(folder_path, f) for f in os.listdir(folder_path) if os.path.isfile(os.path.join(folder_path, f))]
    
    # 使用八个进程来处理文件
    with Pool(8) as pool:
        results = pool.map(process_file, files)
    
    # 打印或保存处理结果
    for file_path, length in results:
        print(f"File {file_path} processed, length: {length} characters")

if __name__ == "__main__":
    folder_path = "/path/to/your/folder"  # 替换为你的文件夹路径
    process_folder(folder_path)
